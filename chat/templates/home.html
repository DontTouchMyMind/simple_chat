{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,300' rel='stylesheet' type='text/css'>
    <script src="https://use.typekit.net/hoy3lrg.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
    <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css'>
    <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css'>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <link rel="stylesheet" href="{% static 'css/chat.css' %}" />
  </head>

<body>
  <div id="frame">
    <div id="sidepanel">
      <div id="profile">
        <div class="wrap">
          <img id="profile-img" src="http://emilcarlsson.se/assets/mikeross.png" class="online" alt="" />
          <p>{{ user }}</p>
          <i class="fa fa-sign-out" aria-hidden="true"></i>
          <div id="status-options">
            <ul>
              <li id="status-online" class="active"><span class="status-circle"></span> <p>Online</p></li>
              <li id="status-away"><span class="status-circle"></span> <p>Away</p></li>
              <li id="status-busy"><span class="status-circle"></span> <p>Busy</p></li>
              <li id="status-offline"><span class="status-circle"></span> <p>Offline</p></li>
            </ul>
          </div>
        </div>
      </div>
        <div class="description">
            <p>Это проект для портфолио. Онлайн чат на вебсокете. Является тестовым примером.</p>
            <br>
            <br>
            <p>Вы можете присоединиться к комнате, к которой у вас есть доступ или создать новую.</p>
        </div>
    </div>
    <div class="content">
      <div class="contact-profile">
          <p>WELCOME TO THE CHAT BOX</p>
      </div>
      <div class="rooms">
          <div class="container">
              <p>Create a room or connect</p>
              <br>
              <br>
              <input id="room-name-input" type="text" placeholder="Enter the name of the room..." />
              <button id="room-name-submit"><span>Create</span></button>
              <br>
              <br>
              <ul>
                  <li>
                      Room1
                      <button>Connect</button>
                  </li>
                  <li>
                      Room2
                      <button>Connect</button>
                  </li>
                  <li>
                      Room3
                      <button>Connect</button>
                  </li>
              </ul>
              {% for user in users_list %}
                <p>{{ user.username }}</p>
            {% endfor %}
          </div>
      </div>
    </div>
  </div>

<script src="{% static 'js/main.js' %}"></script>
<script>
    document.querySelector('#room-name-input').focus();
    document.querySelector('#room-name-input').onkeyup = function(e) {
        if (e.keyCode === 13) {  // enter, return
            document.querySelector('#room-name-submit').click();
        }
    };

    document.querySelector('#room-name-submit').onclick = function(e) {
        var roomName = document.querySelector('#room-name-input').value;
        window.location.pathname = '/chat/' + roomName + '/';
    };

</script>
</body>

</html>